## üéØ –ö–æ–Ω—Ç–µ–∫—Å—Ç
–ú–µ—Ç–∞ ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π **event-driven** —Å–µ—Ä–≤—ñ—Å –∑–±–æ—Ä—É –ø–æ–¥—ñ–π —ñ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏.  
–û—Å–Ω–æ–≤–Ω—ñ –≤–∏–º–æ–≥–∏:
- –Ü–Ω–≥–µ—Å—Ç –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø–æ–¥—ñ–π —á–µ—Ä–µ–∑ `POST /events`
- –Ü–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –ø–æ–¥—ñ–π (—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π `event_id`)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –æ–±—Ä–æ–±–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–æ–∫–µ—Ä –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- –®–≤–∏–¥–∫–∏–π –∑–∞–ø–∏—Å —É –≥–∞—Ä—è—á–∏–π —à–∞—Ä (OLTP)
- –ê–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ –∑–∞–ø–∏—Ç–∏ –∑ —Ö–æ–ª–æ–¥–Ω–æ–≥–æ —à–∞—Ä—É (OLAP)
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —ñ –º–µ—Ç—Ä–∏–∫–∏
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–∏–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ ‚Äî **event-driven**, —ñ–∑ —á—ñ—Ç–∫–∏–º —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è–º ingestion / processing / analytics, –±–ª–∏–∑—å–∫–∞ –¥–æ CQRS.

---

## ‚öôÔ∏è –û–±—Ä–∞–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó —Ç–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è | –ü–µ—Ä–µ–≤–∞–≥–∏ | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ (–ø–ª—é—Å–∏/–º—ñ–Ω—É—Å–∏) |
|------------|-------------|-----------|------------------------------|
| **Web framework** | **Litestar** | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π, –¥—É–∂–µ —à–≤–∏–¥–∫–∏–π, –º–µ–Ω—à–µ –º–∞–≥—ñ—ó –Ω—ñ–∂ —É FastAPI, –ø—ñ–¥—Ç—Ä–∏–º—É—î DI, middleware, OpenAPI. –î–æ–±—Ä–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è EDA. | **FastAPI** ‚Äî –ø—Ä–æ—Å—Ç–∏–π, –≤–µ–ª–∏–∫–∞ –µ–∫–æ—Å–∏—Å—Ç–µ–º–∞ / –ø–æ–≤—ñ–ª—å–Ω—ñ—à–∏–π —á–µ—Ä–µ–∑ Pydantic. <br> **Flask** ‚Äî –º—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π / —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π, –Ω–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è high-load. <br> **Sanic** ‚Äî —à–≤–∏–¥–∫–∏–π / —Å–ª–∞–±—à–∏–π DI, –º–µ–Ω—à–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤. |
| **Broker** | **NATS JetStream** | –õ–µ–≥–∫–∏–π, –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ —à–≤–∏–¥–∫–∏–π, –ø—ñ–¥—Ç—Ä–∏–º—É—î ack/retry, durable consumers, **dead-letter queue**. –ü—Ä–æ—Å—Ç–∏–π —É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—ñ. | **RabbitMQ** ‚Äî –∑—Ä—ñ–ª–∏–π / –≤–∞–∂—á–∏–π —É –ø—ñ–¥—Ç—Ä–∏–º—Ü—ñ. <br> **Kafka** ‚Äî –ø–æ—Ç—É–∂–Ω–∏–π / –∑–∞–Ω–∞–¥—Ç–æ —Å–∫–ª–∞–¥–Ω–∏–π –¥–ª—è —Ü—å–æ–≥–æ –º–∞—Å—à—Ç–∞–±—É. <br> **Redis Streams** ‚Äî –ø—Ä–æ—Å—Ç–∏–π / –Ω–µ–º–∞—î –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ—ó –¥–æ—Å—Ç–∞–≤–∫–∏. |
| **Hot storage (OLTP)** | **ScyllaDB** | –î—É–∂–µ —à–≤–∏–¥–∫–∏–π –∑–∞–ø–∏—Å, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è, —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å —ñ–∑ Cassandra, —ñ–¥–µ–∞–ª—å–Ω–æ –¥–ª—è EDA ingestion. | **Cassandra** ‚Äî battle-tested / –ø–æ–≤—ñ–ª—å–Ω—ñ—à–∞, –≤–∞–∂—á–µ —Ç—é–Ω—ñ–Ω–≥. <br> **PostgreSQL** ‚Äî –∑–Ω–∞–π–æ–º–∏–π SQL / –Ω–µ –º–∞—Å—à—Ç–∞–±—É—î—Ç—å—Å—è –ø—ñ–¥ high-ingest. <br> **MongoDB** ‚Äî –∑—Ä—É—á–Ω–∏–π JSON / —Å–ª–∞–±–∫–∏–π –Ω–∞ bulk insert. <br> **DynamoDB** ‚Äî autoscaling / vendor lock-in, –ø–ª–∞—Ç–Ω–∏–π. |
| **Cold storage (OLAP)** | **ClickHouse** | –®–≤–∏–¥–∫—ñ –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó, –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞, –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è, low latency. –Ü–¥–µ–∞–ª—å–Ω–∏–π –¥–ª—è DAU, top-events, retention. | **DuckDB** ‚Äî –ª–µ–≥–∫–∏–π / –ª–æ–∫–∞–ª—å–Ω–∏–π, –Ω–µ –ø—Ä–æ–¥. <br> **TimescaleDB** ‚Äî SQL –∑ time-series / –ø–æ–≤—ñ–ª—å–Ω—ñ—à–∏–π. <br> **Snowflake / BigQuery** ‚Äî –∫–µ—Ä–æ–≤–∞–Ω—ñ / –Ω–µ self-hosted. <br> **Druid / Pinot** ‚Äî –ø–æ—Ç—É–∂–Ω—ñ / —Å–∫–ª–∞–¥–Ω—ñ –≤ –¥–µ–ø–ª–æ—ó. |
| **Testing** | **pytest** | –ü—Ä–æ—Å—Ç–∏–π, —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π, –∑—Ä—É—á–Ω–∏–π –¥–ª—è async —Ç–µ—Å—Ç—ñ–≤. | ‚Äî |
| **Monitoring** | **Prometheus** | –°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–µ-—Ñ–∞–∫—Ç–æ. –ó–Ω—ñ–º–∞—î RPS, —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–∏, latency, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–¥—ñ–π. | **Grafana Cloud**, **InfluxDB** ‚Äî —Å–∫–ª–∞–¥–Ω—ñ—à—ñ, –∑–∞–π–≤—ñ –¥–ª—è take-home. |
| **Orchestration** | **Docker Compose** | –®–≤–∏–¥–∫–∏–π –ª–æ–∫–∞–ª—å–Ω–∏–π –¥–µ–ø–ª–æ–π, –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –≤—Å—ñ—î—ó —Å–∏—Å—Ç–µ–º–∏. | **Kubernetes** ‚Äî –≥–Ω—É—á–∫—ñ—à–∏–π / –æ–≤–µ—Ä–∫—ñ–ª –¥–ª—è —Ü—å–æ–≥–æ –º–∞—Å—à—Ç–∞–±—É. |

---

## üß© –ü–µ—Ä–µ–≤–∞–≥–∏ –æ–±—Ä–∞–Ω–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

- **–ü–æ–≤–Ω—ñ—Å—Ç—é –ø–æ–¥—ñ—î–≤–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∞ (EDA)**: API –ª–∏—à–µ –≥–µ–Ω–µ—Ä—É—î –ø–æ–¥—ñ—ó, worker –æ–±—Ä–æ–±–ª—è—î —ó—Ö –Ω–µ–∑–∞–ª–µ–∂–Ω–æ.  
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—å —ñ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å**: NATS JetStream –∑ ack, retry —ñ dead-letter –≥–∞—Ä–∞–Ω—Ç—É—î –¥–æ—Å—Ç–∞–≤–∫—É.  
- **ScyllaDB** –∑–∞–±–µ–∑–ø–µ—á—É—î —Ç–∏—Å—è—á—ñ –∑–∞–ø–∏—Å—ñ–≤/—Å–µ–∫ –±–µ–∑ –±–ª–æ–∫—É–≤–∞–Ω—å.  
- **ClickHouse** –≤–∏–∫–æ–Ω—É—î –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ –∑–∞–ø–∏—Ç–∏ –±–µ–∑ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ ingestion.  
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è** backend —ñ worker.  
- **Prometheus** –¥–∞—î –±–∞–∑–æ–≤—É —Å–ø–æ—Å—Ç–µ—Ä–µ–∂—É–≤–∞–Ω—ñ—Å—Ç—å ‚Äî RPS, latency, —Å—Ç–∞—Ç—É—Å–∏ –∑–∞–ø–∏—Ç—ñ–≤.  
- **–Ü–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –ø–æ event_id** ‚Äî –±–µ–∑ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –∑–∞–ø–∏—Ç–∞—Ö.  
- **Docker Compose** ‚Äî —à–≤–∏–¥–∫–∏–π –∑–∞–ø—É—Å–∫ –±–µ–∑ —Å–∫–ª–∞–¥–Ω–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏.  
- **Dead Letter Queue (DLQ)** —É NATS ‚Äî –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –ø–æ–¥—ñ—ó –Ω–µ –±–ª–æ–∫—É—é—Ç—å —Å—Ç—Ä—ñ–º.  

---

## üß† –í–∏—Å–Ω–æ–≤–æ–∫

–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –ø–æ–≤–Ω–∏–π —Ü–∏–∫–ª **event-driven –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏**:
`API ingest ‚Üí NATS JetStream ‚Üí worker ‚Üí ScyllaDB ‚Üí ClickHouse ‚Üí –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ API`.

–ö–æ–º–±—ñ–Ω–∞—Ü—ñ—è **Litestar + NATS JetStream + ScyllaDB + ClickHouse** –∑–∞–±–µ–∑–ø–µ—á—É—î:
- –Ω–∏–∑—å–∫—É –∑–∞—Ç—Ä–∏–º–∫—É –∑–∞–ø–∏—Å—É;
- –Ω–µ–∑–∞–ª–µ–∂–Ω—É –æ–±—Ä–æ–±–∫—É –ø–æ–¥—ñ–π;
- –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å;
- —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º;
- —á—ñ—Ç–∫–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è OLTP / OLAP.

–†—ñ—à–µ–Ω–Ω—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –±–∞–ª–∞–Ω—Å—É—î –º—ñ–∂ **–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é**, **–ø—Ä–æ—Å—Ç–æ—Ç–æ—é** —Ç–∞ **—Å—Ç—ñ–π–∫—ñ—Å—Ç—é**, —ñ —î –±–∞–∑–æ—é –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ —Ä–æ–∑–≤–∏—Ç–∫—É (Kafka, Grafana, auth, –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü—ñ—è).
